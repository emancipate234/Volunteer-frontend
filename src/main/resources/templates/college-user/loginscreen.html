<!doctype html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户登录注册界面</title>
    <link rel="stylesheet" type="text/css" href="../../static/css/styles.css">
</head>

<body>
    <div class="maincontainer">
        <div class="login-wrap">
            <div class="login-html">
                <input id="tab-1" type="radio" name="tab" class="sign-in" checked><label for="tab-1" class="tab">登录</label>
                <input id="tab-2" type="radio" name="tab" class="sign-up"><label for="tab-2" class="tab">注册</label>
                <div class="login-form">
                    <form>
                        <div class="sign-in-htm">
                            <div class="group">
                                <label for="user" class="label">学号/邮箱</label>
                                <input id="username" name="username" type="text" class="input">
                            </div>
                            <div class="group">
                                <label for="pass" class="label">密码</label>
                                <input id="password" type="password" class="input" data-type="password">
                            </div>
                            <div class="group ">
                                <div class="container">
                                    <div class="main_bar">
                                        <input type="text" id="vcode" class="input2" placeholder="验证码" value="验证码" onfocus="this.value=''" onblur="if(this.value=='')this.value='验证码'" />
                                        <div class="ccode" id="code" title="看不清，换一张"></div>
                                        <div id="search_pass_link"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="group">
                                <input id="check" type="checkbox" class="check" checked>
                                <label for="check"><span class="icon"></span> 保持登录</label>
                            </div>
                            <div class="group">
                                <input type="button" class="button" value="登录" onclick="sub()">
                            </div>
                            <div class="hr"></div>
                            <div class="foot-lnk ">
                                <a href="#forgot ">忘记密码</a>
                            </div>
                        </div>
                    </form>
                    <form>
                        <div class="sign-up-htm ">
                            <div class="group ">
                                <label for="user " class="label ">学号</label>
                                <input id="users " type="text " class="input ">
                            </div>
                            <div class="group ">
                                <label for="pass " class="label ">密码</label>
                                <input id="passs " type="password " class="input " data-type="password ">
                            </div>
                            <div class="group ">
                                <label for="pass " class="label ">重复密码</label>
                                <input id="passs " type="password " class="input " data-type="password ">
                            </div>
                            <div class="group ">
                                <label for="pass " class="label ">邮箱地址</label>
                                <input id="pass " type="text " class="input ">
                            </div>
                            <div class="group ">
                                <a href="register.html "><input type="submit " class="buttontwo" value="注册 "></a>
                            </div>
                            <div class="hr "></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript ">
        var code; //声明一个变量用于存储生成的验证码
        document.getElementById("code").onclick = changeImg;

        function changeImg() {
            var arrays = new Array(
                '1', '2', '3', '4', '5', '6', '7', '8', '9', '0',
                'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j',
                'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',
                'u', 'v', 'w', 'x', 'y', 'z',
                'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J',
                'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T',
                'U', 'V', 'W', 'X', 'Y', 'Z'
            );
            code = ''; //重新初始化验证码
            //alert(arrays.length);
            //随机从数组中获取四个元素组成验证码
            for (var i = 0; i < 4; i++) {
                //随机获取一个数组的下标
                var r = parseInt(Math.random() * arrays.length);
                code += arrays[r];
            }
            document.getElementById('code').innerHTML = code; //将验证码写入指定区域
        }
    </script>

    <script>
        function sub() {
            var flag = false;
            var input_code = document.getElementById('vcode').value;
            var name = document.getElementById('username').value;
            var pass = document.getElementById('password').value;
            var cname = "admin";
            var cpass = "123";
            if (input_code.toLowerCase() == code.toLowerCase()) {
                //验证码正确(表单提交)
                flag = true;
            }
            if (name == cname && pass == cpass && flag == true) {
                alert("登录成功! ")
                window.location.href = "web1mainpage.html";
            } else {
                if (flag == false) {
                    alert("验证失败! ")
                    return;
                }
                alert("用户名或密码错误! ")
            }
        }
    </script>
</body>

</html>